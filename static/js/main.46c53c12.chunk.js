(this.webpackJsonpdynamicforms=this.webpackJsonpdynamicforms||[]).push([[0],{60:function(e,t,a){e.exports=a(71)},65:function(e,t,a){},66:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(55),c=a.n(r),i=(a(65),a(53)),o=(a(66),a(59)),m=a(24),u=a(35),s=a(5),b=function(e){return l.a.createElement(s.d,e,l.a.createElement(s.c,{className:"needs-validation"},e.children))},d=function(e){var t=e.name,a=e.label,n=e.placeholder,r=Object(u.a)(e,["name","label","placeholder"]);return l.a.createElement(l.a.Fragment,null,a&&l.a.createElement("label",{htmlFor:t},a),l.a.createElement(s.b,Object.assign({className:"form-control",type:"text",name:t,id:t,placeholder:n||""},r)),l.a.createElement(s.a,{name:t,render:function(e){return l.a.createElement("div",{style:{color:"red"}},e)}}))},E=function(e){var t=e.name,a=e.label,n=e.options;return l.a.createElement(l.a.Fragment,null,a&&l.a.createElement("label",{htmlFor:t},a),l.a.createElement(s.b,{as:"select",id:t,name:t},l.a.createElement("option",{value:""},"Choose..."),n.map((function(e,t){return l.a.createElement("option",{value:e.value}," ",e.label||e.value)}))),l.a.createElement(s.a,{name:t,render:function(e){return l.a.createElement("div",{style:{color:"red"}},e)}}))},p=function(e){var t=e.name,a=e.label;return l.a.createElement(l.a.Fragment,null,l.a.createElement(s.b,{type:"checkbox",name:t}),l.a.createElement("label",{htmlFor:t},a||t),l.a.createElement(s.a,{name:t,render:function(e){return l.a.createElement("div",{style:{color:"red"}},e)}}))},v=function(e,t){var a={name:e,label:t.label,options:t.options};switch(t.type){case"text":case"email":return l.a.createElement(d,a);case"select":return l.a.createElement(E,a);case"checkbox":return l.a.createElement(p,a)}},f=function(e){var t=e.title,a=Object(u.a)(e,["title"]),n=Object(s.f)().isSubmitting;return l.a.createElement("button",Object.assign({type:"submit"},a,{disabled:n}),t)},h=function(e){var t=e.formData,a=e.formSchema,n=e.validationSchema,r=e.onSubmit;return l.a.createElement(b,{enableReinitialize:!0,initialValues:t,validationSchema:n,onSubmit:r},Object.keys(a).map((function(e,t){return l.a.createElement("div",{key:e},a[e].condition?l.a.createElement(s.e,null,(function(t){t.validationSchema,t.validate;var n=Object(u.a)(t,["validationSchema","validate"]);return l.a.createElement(l.a.Fragment,null,String(n.values[a[e].condition.split(".")[0]])===String(a[e].condition.split(".")[1])&&v(e,a[e]))})):v(e,a[e]))})),l.a.createElement(f,{title:"Submit"}))},S={name:{type:"text",label:"Name",required:!0},surname:{type:"text",label:"Surname",required:!1},email:{type:"email",label:"Email",required:!0},role:{type:"select",label:"Role",required:!0,options:[{label:"Admin",value:"admin"},{label:"Damian",value:"damian"},{label:"User",value:"user"},{label:"Customer",value:"customer"}]},check1:{type:"checkbox",label:"TEST",required:!0,condition:"role.admin"},check2:{type:"checkbox",label:"test2",condition:"check1.true"}},y=function(){var e=S,t=Object(n.useState)({}),a=Object(i.a)(t,2),r=a[0],c=a[1],u=Object(n.useState)({}),s=Object(i.a)(u,2),b=s[0],d=s[1];Object(n.useEffect)((function(){!function(e,t,a){for(var n={},l={},r=0,c=Object.keys(e);r<c.length;r++){var i=c[r];switch(n[i]="",e[i].type){case"text":l[i]=m.c();break;case"email":l[i]=m.c().email();break;case"password":l[i]=m.c().min(8);break;case"select":l[i]=m.c().oneOf(e[i].options.map((function(e){return e.value})));break;case"checkbox":n[i]=!1,e[i].required&&(l[i]=m.a().oneOf([!0],"Required"))}e[i].required&&(l[i]=l[i].required("".concat(e[i].label," is required")))}t(n),a(m.b().shape(Object(o.a)({},l)))}(e,c,d)}),[e]);return l.a.createElement("div",{className:"App"},l.a.createElement("h2",null,"FORM!"),l.a.createElement("div",null,l.a.createElement(h,{formData:r,validationSchema:b,formSchema:e,onSubmit:function(e,t){var a=t.setSubmitting;t.resetForm,t.setStatus;console.log(e),a(!1)}})))};c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(y,null)),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.46c53c12.chunk.js.map